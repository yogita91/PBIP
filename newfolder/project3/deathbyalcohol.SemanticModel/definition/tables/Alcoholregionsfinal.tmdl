```yaml
createOrReplace

    name Main
    type tab
    properties:
        settings:
            ThousandSep: ','
            DecimalSep: '.'
            MoneyThousandSep: ','
            MoneyDecimalSep: '.'
            MoneyFormat: '$ ###0.00;-$ ###0.00'
            TimeFormat: 'h:mm:ss TT'
            DateFormat: 'M/D/YYYY'
            TimestampFormat: 'M/D/YYYY h:mm:ss[.fff] TT'
            FirstWeekDay: 6
            BrokenWeeks: 1
            ReferenceDay: 0
            FirstMonthOfYear: 1
            CollationLocale: 'en-US'
            CreateSearchIndexOnReload: 1
            MonthNames: 'Jan;Feb;Mar;Apr;May;Jun;Jul;Aug;Sep;Oct;Nov;Dec'
            LongMonthNames: 'January;February;March;April;May;June;July;August;September;October;November;December'
            DayNames: 'Mon;Tue;Wed;Thu;Fri;Sat;Sun'
            LongDayNames: 'Monday;Tuesday;Wednesday;Thursday;Friday;Saturday;Sunday'
            NumericalAbbreviation: '3:k;6:M;9:G;12:T;15:P;18:E;21:Z;24:Y;-3:m;-6:Î¼;-9:n;-12:p;-15:f;-18:a;-21:z;-24:y'
    - name Authorization
      type tab
      properties:
          dataManagerTables: ['', 'INFLUENZA']
          script: |
            For each name in $(dataManagerTables)
                Let index = 0;
                Let currentName = name; 
                Let tableNumber = TableNumber(name); 
                Let matches = 0; 
                Do while not IsNull(tableNumber) or (index > 0 and matches > 0)
                    index = index + 1; 
                    currentName = name & '-' & index; 
                    tableNumber = TableNumber(currentName) 
                    matches = Match('$(currentName)', $(dataManagerTables));
                Loop 
                If index > 0 then 
                    Rename Table '$(name)' to '$(currentName)'; 
                EndIf; 
            Next; 
            Set dataManagerTables = ;
          unqualify: '*'
          connection: 
            type: LIB
            value: 'Snowflake_hf97758.australia-east.azure.snowflakecomputing.com'
    - name Application
      type tab
      properties:
          mappings:
              - name 'Age groupMapping'
                type MAPPING LOAD
                source: INLINE
                value:
                  - "Age groupMapping-FROM,Age groupMapping-TO"
                  - "Oct-14,85+"
                  - "05-Sep,50-54"
              - name 'Indigenous statusMapping'
                type MAPPING LOAD
                source: INLINE
                value:
                  - "Indigenous statusMapping-FROM,Indigenous statusMapping-TO"
                  - "Not available,Unknown"
          tables:
            - name INFLUENZA
              type LOAD
              source:
                type: sql
                value: |
                  SELECT "Week Ending (Friday)",
                         "STATE",
                         "Age  group",
                         "SEX",
                         "Indigenous status",
                         "Type/Subtype"
                  FROM "HEALTHCARE"."PUBLIC"."INFLUENZA"
              columns:
                - name 'Week Ending (Friday)'
                  dataType: datetime
                  sourceColumn: 'Week Ending (Friday)'
                - name 'STATE'
                  dataType: string
                  sourceColumn: 'STATE'
                - name 'Age group'
                  dataType: string
                  sourceColumn: 'Age group'
                - name 'SEX'
                  dataType: string
                  sourceColumn: 'SEX'
                - name 'Indigenous status'
                  dataType: string
                  sourceColumn: 'Indigenous status'
                - name 'Type/Subtype'
                  dataType: string
                  sourceColumn: 'Type/Subtype'
                - name 'Year'
                  dataType: int64
                  sourceColumn: 'Year'
                - name 'Month'
                  dataType: int64
                  sourceColumn: 'Month'
                - name autoCalendar
                  type: DECLARE
                  value:
                    fieldDefinitions:
                      - name: Tagged
                        value: ['$date']
                      - name: FIELDS
                        value:
                          - name: 'Year'
                            expression: 'Dual(Year($1), YearStart($1))'
                            tags:
                              - '$axis'
                              - '$year'
                          - name: 'Quarter'
                            expression: 'Dual('Q'&Num(Ceil(Num(Month($1))/3)),Num(Ceil(NUM(Month($1))/3),00))'
                            tags:
                              - '$quarter'
                              - '$cyclic'
                          - name: 'Month'
                            expression: 'Month($1)'
                            tags:
                              - '$month'
                              - '$cyclic'
                      - name: DERIVE FIELDS FROM
                        value: 'FIELDS [Week Ending (Friday)] USING [autoCalendar]'
          measures:
            - name 'Yearly Influenza Cases by Type'
              expression 'Count({< [Type/Subtype] = {"A(H3N2)", "A(H1N1)pdm09", "A(H1N1)", "A and B"}>} [Type/Subtype])'
              formatString '0'
              lineageTag: pQwjL
            - name 'Total Cases by Year'
              expression 'Count({<year = {">0"}>} [Type/Subtype])'
              formatString '0'
              lineageTag: pJLFFzU
            - name 'Monthly Trends by Year'
              expression 'Count({<Year = P({$} Year)>} [Type/Subtype])'
              formatString '0'
              lineageTag: NAfAGM
            - name 'Total Cases By Age Group'
              expression 'Count(total [Age group])'
              formatString '0'
              lineageTag: TmHbvcF
            - name 'Yearly influenza Analysis By different Types'
              expression 'Count({<Year={2016,2010,2013,2014,2015,2017,2018,2022,2023,2008,2009}, Month={$(=Month(Today()))}>} [Type/Subtype]) - Count({<Year={2016,2010,2013,2014,2015,2017,2018,2022,2023,2008,2009}, Month={$(=Month(Today())-1)}>} [Type/Subtype])'
              formatString '0'
              lineageTag: uHshkc
            - name 'Cases across different states'
              expression 'Count({<STATE = {"ACT", "NSW", "NT", "QLD", "SA", "TAS", "VIC", "WA"}>} [Type/Subtype])'
              formatString '0'
              lineageTag: GdTrKT
```